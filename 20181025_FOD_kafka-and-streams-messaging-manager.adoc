= FOD Meetup #8: Apache Kafka and Streams Messaging Manager
Thomas SCHWENDER <https://github.com/ardemius[@ardemius]>
// Handling GitHub admonition blocks icons
ifndef::env-github[:icons: font]
ifdef::env-github[]
:status:
:outfilesuffix: .adoc
:caution-caption: :fire:
:important-caption: :exclamation:
:note-caption: :paperclip:
:tip-caption: :bulb:
:warning-caption: :warning:
endif::[]
:imagesdir: images
:source-highlighter: highlightjs
// Next 2 ones are to handle line breaks in some particular elements (list, footnotes, etc.)
:lb: pass:[<br> +]
:sb: pass:[<br>]
// check https://github.com/Ardemius/personal-wiki/wiki/AsciiDoctor-tips for tips on table of content in GitHub
:toc: macro
//:toclevels: 3
// To turn off figure caption labels and numbers
//:figure-caption!:
// Same for examples
//:example-caption!:
// To turn off ALL captions
:caption:

toc::[]

Pr√©sent√© √† l'h√¥tel Renaissance La D√©fense, et co-organis√© par Invivoo (www.invivoo.com).

== Agenda

Agenda

* 18h45 - 19h00 : Accueil des participants
* 19h00 - 19h30 : Hybrid batch and stream processing - meeting the global business requirements of an organization (Marcos ALMEIDA, Senior Developper - Invivoo)
* 19h30 - 20h00 : Curing the Kafka Blindness with SMM (Abdelkrim Hadjidj, Solution Engineer - Hortonworks) +
* 20h00 - 20h30 : Apache Kafka 2.0 : New Features you probably didn't know about! (Stephane Maarek, CEO - DataCumulus) +
* 20h30 - 21h00 : Ap√©ro

== Hybrid batch and stream processing - meeting the global business requirements of an organization

Pr√©sent√© par *Marcos ALMEIDA*, Senior Developper - Invivoo

=== Abstract

There's an increasing pressure on leveraging enterprise data on improving business processes and/or products. +
In companies that didn't make the full transition from a small to a big data infrastructure, accessing company data requires the integration of a mix of tools, from batch systems, through private grids, to cutting edge big data enabled systems.

=== Notes

Une pr√©sentation du logiciel XComponent Koordinator √©dit√© par Invivoo.

image::20181025_FOD_01.jpg[]

Koordinator est ax√© sur les populations m√©tier (qui n'a pas envie de faire du Go pour se servir de l'outil)

image::20181025_FOD_02.jpg[]

Code de la demo : https://github.com/xcomponent (dans un sous-r√©pertoire)

== Curing the Kafka Blindness with SMM

Pr√©sent√© par *Abdelkrim Hadjidj*, Solution Engineer - Hortonworks

=== Abstract

Companies who use Kafka today struggle with monitoring and managing Kafka clusters. +
Kafka is a key backbone of streaming analytics applications. The challenge is understanding what is going on overall in the Kafka cluster including performance, issues and message flows. +
No open source tool caters to needs of different users that work with Kafka: DevOps/developers, platform team and security/governance teams. 

In this talk, we will see how the new Hortonworks Streams Messaging Manager (SMM) enables users to visualize their entire Kafka environment end-to-end and simplifies Kafka operations.

=== Notes

DPS - *DataPlane Service* : La 3e et derni√®re offre c√¥t√© Hortonworks

SMM - *Streams Messaging Manager* : pour de *l'administration de clusters Kafka*

image::20181025_FOD_03.jpg[]

image::20181025_FOD_04.jpg[]

Tout passe de nouveau par Knox comme Gateway.

image::20181025_FOD_05.jpg[]

Tous les services sont des containers Docker.

image::20181025_FOD_06.jpg[]

De bons outils de monitoring des clusters Kafka :

* gestion des topics, avec donn√©es entr√©es et sorties
* visualisation des consumers branch√©s aux topics

Changement de licence chez *Hortonworks* pour DPS : *passage en licence RedHat* +
-> le source est disponible sur GitHub, mais le binaire compil√© n'est pas fourni (mais rien n'emp√™che de le compiler soi-m√™me √† partir des sources)

*SMM fonctionne via un agent*, qui, apparemment (cf speaker), consomme peu de ressources, et donc n'impacte pas le fonctionnement de Kafka.

*SMM* n'est finalement qu'un outil de monitoring de Kafka, *utilisant l'API m√™me de Kafka*. +
D'autres outils existent pour r√©pondre √† ce besoin (m√™me si peu nombreux) :

* chez Confluent
* chez Yahoo

*Valeur Ajout√©e de SMM* et DPS par rapport √† un "simple Kafka Manager" :

* gestion d'ACL avec Ranger
* gestion de la gouvernance avec Atlas
* et maintenant gestion de Kafka avec SMM

Au final, Hortonworks continue de d√©velopper sa strat√©gie visant √† couvrir / industrialiser au maximum l'ecosyst√®me Data (via la cr√©ation de multiples outils √©vitant la manipulation bas niveau des briques techniques)

== Apache Kafka 2.0 : New Features you probably didn't know about!

Pr√©sent√© par *Stephane Maarek*, CEO - DataCumulus

=== Abstract

Apache Kafka is notorious for being a stable project that doesn't change much over the releases. +
Nonetheless, once in a while, a major improvement will happen, and you probably won't have heard about it. 

In this session, Stephane will introduce you to the various improvements and features Kafka 2.0 has had over the past year, some of which you may know... and some of which you may not know!

=== Notes

Rah ! Arnaque ! En fait le speaker n'a pas eu le temps de pr√©parer ce sujet, et va finalement parler de *s√©curit√© avec Kafka*. +
Si votre Kafka est d√©j√† s√©curis√© (car wrapped dans la suite HDP par exemple), pas la peine d'aller plus loin üòâ

.Risks encountered when NOT securing your Kafka
image::20181025_FOD_07.jpg[]

image::20181025_FOD_08.jpg[]

Commment s√©curiser son Kafka ?

* *Encryption*
* *Authentication*
* *Authorization*

==== Encryption with SSL

* Be aware that SSL lowers the performance of your brokers, and it's quite a big price

-> Solution : *end-to-end encryption*

Who implements end-to-end encryption?

* Closed source (so sad) : Apple 
* Open Source : Quicksign Kafka-encryption

==== Authentication

* SSL authentication : 2 way client authentication +
-> Hard to revoke

* SASL (SImple Authentication and Security Layer)
	** SASL/GSSAPI - Kerberos : nearly Microsoft as an implementation +
	Very very hard to setup, errors are cryptic
	** SASL/PLAIN
	** SASL/SCRAM-SHA-256/512
	** SASL/OAUTHBEARER

Automate ! The key word in security (in Kafka only ?)

==== Authorization

Stephane a cr√©√© le *Kafka Security Manager* pour cela (github simplesteph kafka-security-manager)

==== Client security

librdkafka for Kafka CLIENT Security and NON Java clients (for Java clients, it works rather well)

Default Kafka clients have EVERY security options available ! +
-> Your client will only use 1 security setup, so create your own wrapped custom Kafka client...

Again automate! Once it works once, DOCKERIZE! +
-> once done, it will work each time

==== Ressources for Kafka security

image::20181025_FOD_09.jpg[]

-> St√©phane est un tr√®s bon speaker, et fait apparemment de tr√®s bon cours sur Udemy


